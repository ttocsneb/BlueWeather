{% extends "main.html" %}

{% block content %}
<div class="col-xl-6 col-lg-8">
  <div class="card shadow mb-4" id="plugin-list">
    <!-- Card Header -->
    <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
      <h6 class="m-0 font-weight-bold">Installed Plugins</h6>

      <ul class="nav nav-tabs card-header-tabs pull-right my-auto" id="plugin_list" role="tablist">
        <li class="nav-item my-auto">
          <a v-if="page != 0" @click="first" class="nav-link p-1" href=#><i class="fas fa-angle-double-left"></i></a>
          <span v-if="page == 0" class="nav-link p-1 disabled"><i class="fas fa-angle-double-left"></i></span>
        </li>
        <li class="nav-item my-auto">
          <a v-if="page != 0" @click="prev" class="nav-link p-1" href=#><i class="fas fa-angle-left"></i></a>
          <span v-if="page == 0" class="nav-link p-1 disabled"><i class="fas fa-angle-left"></i></span>
        </li>
        <li v-for="p in pageList" class="nav-item my-auto">
          <span v-if="p == page" class="nav-link p-1 disabled">{% raw %}{{ p + 1 }}{% endraw %}</span>
          <a v-if="p != page" @click="getData(p)" class="nav-link p-1" href="#">{% raw %}{{ p + 1 }}{% endraw %}</a>
        </li>
        <li class="nav-item my-auto">
          <a v-if="page != pages - 1" @click="next" class="nav-link p-1" href=#><i class="fas fa-angle-right"></i></a>
          <span v-if="page == pages - 1" class="nav-link p-1 disabled"><i class="fas fa-angle-right"></i></span>
        </li>
        <li class="nav-item my-auto">
          <a v-if="page != pages - 1" @click="last" class="nav-link p-1" href=#><i class="fas fa-angle-double-right"></i></a>
          <span v-if="page == pages - 1" class="nav-link p-1 disabled"><i class="fas fa-angle-double-right"></i></span>
        </li>
        <li class="nav-item my-auto">
          <form class="form-inline ml-1">
            <div class="form-group" style="width: 60px;">
              <input v-model.lazy="pageSize" type="number" class="form-control w-100" @change="getData(page)"/>
            </div>
          </form>
        </li>
      </ul>
    </div>
    <!-- Card Body -->
    <div class="card-body">

    <div class="card-body p-0">
      <plugin-list :extensions="extensions"></plugin-list>
    </div>
  </div>
</div>
{% endblock content %}

{% block scripts %}
<script src="{{ static("plugins/plugin_list.js") }}"></script>
{% endblock scripts %}
